# https://taskfile.dev
version: '3'

tasks:
  default:
    deps: [s, o]
  
  s:
    desc: run serve
    cmds:
      # include draft
      - hugo server --buildDrafts

  o:
    desc: open web server
    cmds:
      - open http://localhost:1313/

  b:
    desc: build to /public
    cmds:
      - hugo

  try:
    desc: try as https://gohugo.io/getting-started/quick-start/
    cmds:
      - hugo new site quickstart

  v:
    desc: show hugo version
    deps: [install-hugo]
    cmds:
      - hugo version

  install-hugo:
    desc: install hugo
    status:
      - which hugo
    cmds:
      - brew install hugo